<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kelime Kartlarƒ± | G√ñRSEL URL VERSƒ∞YON (SON D√úZELTMELER)</title>
    <style>
        /* --- STƒ∞L BA≈ûLANGI√á --- */
        body {
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            margin: 0;
            justify-content: center;
            user-select: none;
        }

        .card {
            background-color: white;
            width: 350px;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            position: relative;
            margin-top: 20px;
            cursor: pointer;
            /* Kart ge√ßi≈üleri i√ßin iyile≈ütirilmi≈ü transition */
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
                        box-shadow 0.2s ease, 
                        opacity 0.4s ease;
            opacity: 0;
            transform: translateY(15px) scale(0.95);
        }

        .card.active {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
        
        .card:active {
            transform: scale(0.97);
        } 

        /* YENƒ∞ G√ñRSEL STƒ∞Lƒ∞ */
        .word-image-display {
            width: 100%;
            height: 180px;
            margin-bottom: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            background-color: #E3F2FD; 
            display: flex;
            justify-content: center;
            align-items: center;
            pointer-events: none;
            transition: background 0.3s ease;
            overflow: hidden; 
        }
        
        .word-image-display img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain; 
            border-radius: 15px;
            transition: transform 0.3s ease;
            pointer-events: auto;
        }
        
        .card:hover .word-image-display {
            background-color: #BBDEFB; 
        }
        
        .card:hover .word-image-display img {
            transform: scale(1.05);
        }

        .header { margin-bottom: 15px; }
        .word-row { display: flex; align-items: center; gap: 15px; }
        
        .speaker-icon { 
            color: #1976D2;
            font-size: 28px; 
            cursor: pointer; 
            padding: 10px;
            border-radius: 50%;
            transition: background 0.2s; 
            user-select: none;
        }
        .speaker-icon:hover { background: #E3F2FD; }
        
        h1 { color: #2D3748; margin: 0; font-size: 36px; font-weight: 800; text-transform: capitalize; }
        .meaning { color: #718096; margin-top: 5px; margin-left: 58px; font-size: 18px; font-weight: 500;} 
        
        .box { 
            border: 1px solid #E2E8F0; 
            border-radius: 15px; 
            padding: 15px; 
            margin-bottom: 12px; 
            background: #F7FAFC;
        }
        .row { display: flex; gap: 10px; }
        .tag { font-weight: bold; color: #1976D2; font-size: 14px; min-width: 35px; }
        .content { flex: 1; }
        .en-sentence { color: #2D3748; font-size: 16px; margin: 0 0 8px 0; line-height: 1.5; }
        .highlight { color: #E53E3E; font-weight: bold; background: #fff5f5; padding: 0 4px; border-radius: 4px; }
        .divider { border-top: 1px dotted #CBD5E0; margin: 5px 0; }
        .tr-sentence { color: #718096; font-size: 15px; margin: 5px 0 0 0; }
        .synonyms-text { color: #2D3748; margin: 0; font-size: 15px; }
        .box.small { padding: 12px 15px; border-radius: 30px; margin-bottom: 0;}

        .info-bar {
            color: #718096;
            margin-top: 20px;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .nav-hint { font-size: 12px; opacity: 0.6; margin-top: 5px;}
        /* --- STƒ∞L Bƒ∞Tƒ∞≈û --- */
    </style>
</head>
<body>

    <div id="card-container"></div>
    
    <div class="info-bar">
        <span id="info-text">Y√ºkleniyor...</span>
    </div>
    <div class="nav-hint">ƒ∞pucu: Kartlarƒ± deƒüi≈ütirmek i√ßin **Kartƒ±n √ºzerine tƒ±klayƒ±n** veya **Y√∂n tu≈ülarƒ±nƒ±** kullanƒ±n (‚Üê / ‚Üí). Kelimeyi dinlemek i√ßin **‚Üë** (Yukarƒ± Ok) tu≈üuna basƒ±n.</div>

    <script>
        // --- JAVASCRIPT BA≈ûLANGI√á ---

        /**
         * T√úM G√ñRSEL URL'LERƒ∞ KONTROL EDƒ∞LDƒ∞ VE √áALI≈ûAN ALTERNATƒ∞FLERLE G√úNCELLENDƒ∞.
         */
        const wordList = [
            { 
                word: "can", 
                meaning: "yapabilmek, kutu", 
                example_en: "I [can] speak three languages fluently.", 
                example_tr: "√ú√ß dili akƒ±cƒ± bir ≈üekilde konu≈üabiliyorum.", 
                synonyms: "be able to, tin, container", 
                image_url: "https://st4.depositphotos.com/10639414/23683/v/450/depositphotos_236838362-stock-illustration-vector-set-stickers-speech-bubbles.jpg" 
            },
            { 
                word: "cannot", 
                meaning: "yapamamak (can not)", 
                example_en: "I [cannot] find my keys anywhere.", 
                example_tr: "Anahtarlarƒ±mƒ± hi√ßbir yerde bulamƒ±yorum.", 
                synonyms: "can't, be unable to", 
                image_url: "https://static7.depositphotos.com/1000563/674/v/450/depositphotos_6748924-stock-illustration-car-key-with-remote-control.jpg" 
            },
            { 
                word: "capital", 
                meaning: "ba≈ükent, b√ºy√ºk harf, sermaye", 
                example_en: "Ankara is the [capital] city of Turkey.", 
                example_tr: "Ankara, T√ºrkiye'nin ba≈ükentidir.", 
                synonyms: "chief city, funds, assets", 
                image_url: "https://st4.depositphotos.com/5430974/28283/v/450/depositphotos_282832262-stock-illustration-ankara-abstract-color-drawing-ankara.jpg" 
            },
            { 
                word: "car", 
                meaning: "araba, otomobil", 
                example_en: "He bought a brand new red [car].", 
                example_tr: "Yepyeni, kƒ±rmƒ±zƒ± bir araba satƒ±n aldƒ±.", 
                synonyms: "automobile, vehicle", 
                image_url: "https://img.freepik.com/premium-vektor/sevimli-cizgi-film-araba-illustrasyon-tasarimi_1277164-25213.jpg?w=360" 
            },
            { 
                word: "card", 
                meaning: "kart (kredi, oyun, kimlik)", 
                example_en: "Did you bring your student [card]?", 
                example_tr: "√ñƒürenci kartƒ±nƒ± getirdin mi?", 
                synonyms: "ticket, plastic money", 
                image_url: "https://cdn.pixabay.com/photo/2016/09/27/11/49/id-1698715_1280.png" 
            },
            { 
                word: "career", 
                meaning: "kariyer, meslek", 
                example_en: "She decided to pursue a [career] in medicine.", 
                example_tr: "Tƒ±pta bir kariyer yapmaya karar verdi.", 
                synonyms: "profession, occupation", 
                image_url: "https://st2.depositphotos.com/1907633/6917/i/450/depositphotos_69170339-stock-photo-smart-medical-doctor-hand-showing.jpg" 
            },
            { 
                word: "carrot", 
                meaning: "havu√ß", 
                example_en: "Rabbits love to eat [carrots].", 
                example_tr: "Tav≈üanlar havu√ß yemeyi sever.", 
                synonyms: "vegetable, root", 
                image_url: "https://static.vecteezy.com/system/resources/previews/010/834/628/non_2x/realistic-carrot-png.png" 
            },
            { 
                word: "carry", 
                meaning: "ta≈üƒ±mak, g√∂t√ºrmek", 
                example_en: "Help me [carry] these heavy boxes.", 
                example_tr: "Bu aƒüƒ±r kutularƒ± ta≈üƒ±mama yardƒ±m et.", 
                synonyms: "transport, bear, move", 
                image_url: "https://cdn.pixabay.com/photo/2014/04/03/10/26/box-310344_1280.png" 
            },
            { 
                word: "cat", 
                meaning: "kedi", 
                example_en: "The neighbor's [cat] is very friendly.", 
                example_tr: "Kom≈üunun kedisi √ßok cana yakƒ±n.", 
                synonyms: "feline, kitten", 
                image_url: "https://st5.depositphotos.com/1007566/66341/v/450/depositphotos_663419010-stock-illustration-cute-kitten-sitting-vector-design.jpg" 
            },
            { 
                word: "CD", 
                meaning: "CD (Compact Disc)", 
                example_en: "I found an old music [CD] in the drawer.", 
                example_tr: "√áekmecede eski bir m√ºzik CD'si buldum.", 
                synonyms: "compact disc, album", 
                image_url: "https://cdn.pixabay.com/photo/2018/01/26/19/57/cd-3109315_1280.png" 
            },
            { 
                word: "cent", 
                meaning: "sent (para birimi)", 
                example_en: "I only have fifty [cent]s left.", 
                example_tr: "Sadece elli sentim kaldƒ±.", 
                synonyms: "penny, coin", 
                image_url: "https://static5.depositphotos.com/1000244/438/v/450/depositphotos_4383782-stock-illustration-50-euro-cent.jpg" 
            },
            { 
                word: "centre", 
                meaning: "merkez, orta (center-ABD)", 
                example_en: "The market is right in the [centre] of the town.", 
                example_tr: "Pazar, kasabanƒ±n tam ortasƒ±nda.", 
                synonyms: "middle, hub, core", 
                image_url: "https://media.istockphoto.com/id/700491580/tr/vekt%C3%B6r/arka-plan-ill%C3%BCstrasyon-%C3%A7ift%C3%A7iler-pazar.jpg?s=612x612&w=0&k=20&c=-fiMI1n5agbN30xB2r1MzQ2Jzo5NkcM-iofJaFTGMJg=" 
            },
            { 
                word: "century", 
                meaning: "y√ºzyƒ±l", 
                example_en: "The museum is home to art from the 17th [century].", 
                example_tr: "M√ºze, 17. y√ºzyƒ±ldan kalma sanat eserlerine ev sahipliƒüi yapƒ±yor.", 
                synonyms: "100 years, era", 
                image_url: "https://thumbs.dreamstime.com/b/museum-building-illustration-historical-exhibitions-every-week-exhibitions-ice-age-antiquity-relics-middle-museum-193719167.jpg" 
            },
            { 
                word: "chair", 
                meaning: "sandalye, ba≈ükan", 
                example_en: "Please take a [chair] and sit down.", 
                example_tr: "L√ºtfen bir sandalye alƒ±p oturun.", 
                synonyms: "seat, bench, leader", 
                image_url: "https://png.pngtree.com/png-clipart/20231129/original/pngtree-man-sitting-in-chair-office-photo-png-image_13739517.png" 
            },
            { 
                word: "change", 
                meaning: "deƒüi≈ütirmek, bozuk para", 
                example_en: "We need to [change] our meeting time.", 
                example_tr: "Toplantƒ± saatimizi deƒüi≈ütirmemiz gerekiyor.", 
                synonyms: "alter, money, difference", 
                image_url: "https://thumbs.dreamstime.com/b/group-professionals-engaged-meeting-around-round-table-discussing-important-business-matters-strategies-373675896.jpg" 
            },
            { 
                word: "chart", 
                meaning: "grafik, √ßizelge", 
                example_en: "The sales [chart] shows a clear increase.", 
                example_tr: "Satƒ±≈ü grafiƒüi net bir artƒ±≈ü g√∂steriyor.", 
                synonyms: "diagram, graph, table", 
                image_url: "https://png.pngtree.com/thumb_back/fh260/background/20230703/pngtree-d-render-of-infographics-paper-elements-featuring-colorful-column-flat-graph-image_3788355.jpg" 
            },
            { 
                word: "cheap", 
                meaning: "ucuz", 
                example_en: "You can find [cheap] clothes at the market.", 
                example_tr: "Pazarda ucuz kƒ±yafetler bulabilirsiniz.", 
                synonyms: "inexpensive, affordable", 
                image_url: "https://st4.depositphotos.com/30046358/40672/v/450/depositphotos_406720092-stock-illustration-clothes-emporium-flat-color-vector.jpg" 
            },
            { 
                word: "check", 
                meaning: "kontrol etmek, √ßek (banka)", 
                example_en: "Did you [check] the oven temperature?", 
                example_tr: "Fƒ±rƒ±nƒ±n sƒ±caklƒ±ƒüƒ±nƒ± kontrol ettin mi?", 
                synonyms: "verify, examine, test", 
                image_url: "https://us.123rf.com/450wm/whitecity/whitecity2411/whitecity241101689/237731388-kitchen-furniture-and-equipment-in-flat-style-vector-illustration-of-household-appliances.jpg?ver=6" 
            },
            { 
                word: "cheese", 
                meaning: "peynir", 
                example_en: "I love pasta with extra [cheese].", 
                example_tr: "Fazla peynirli makarnayƒ± severim.", 
                synonyms: "dairy product", 
                image_url: "https://cdn.pixabay.com/photo/2016/09/21/04/51/cheese-1684347_1280.png" 
            },
            { 
                word: "chicken", 
                meaning: "tavuk", 
                example_en: "We ordered grilled [chicken] for dinner.", 
                example_tr: "Ak≈üam yemeƒüi i√ßin ƒ±zgara tavuk sipari≈ü ettik.", 
                synonyms: "poultry, hen", 
                image_url: "https://png.pngtree.com/png-clipart/20230617/ourlarge/pngtree-fire-grilled-chicken-meat-logo-illustration-png-image_7153178.png" 
            }
        ];

        let currentIndex = 0;
        const container = document.getElementById('card-container');
        const infoText = document.getElementById('info-text');

        let isSpeaking = false;
        
        // G√∂rsel y√ºklenemediƒüinde kullanƒ±lacak yer tutucu (placeholder)
        const PLACEHOLDER_SVG = (word) => `data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="350" height="180" viewBox="0 0 350 180"><rect width="350" height="180" fill="%23e8e8e8"/><text x="175" y="80" font-family="Arial" font-size="20" fill="%23666" text-anchor="middle">G√∂rsel Y√ºklenemedi</text><text x="175" y="110" font-family="Arial" font-size="16" fill="%23888" text-anchor="middle">Kelime: ${word}</text></svg>`;

        function speakWord(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                
                const msg = new SpeechSynthesisUtterance();
                msg.text = text;
                msg.lang = 'en-US'; 
                msg.rate = 0.9; 
                
                isSpeaking = true;
                msg.onend = () => { isSpeaking = false; };
                msg.onerror = (e) => { isSpeaking = false; console.error("Seslendirme hatasƒ±:", e); };

                window.speechSynthesis.speak(msg);
            } else {
                console.warn("Tarayƒ±cƒ± metin okuma (Speech Synthesis) √∂zelliƒüini desteklemiyor.");
            }
        }

        function updateInfoBar() {
            infoText.textContent = `Kart ${currentIndex + 1} / ${wordList.length}`;
        }

        function createCard(data) {
            const { word, meaning, example_en, example_tr, synonyms, image_url } = data;
            
            // K√∂≈üeli parantez i√ßindeki kelimeyi vurgula
            const highlightedExample = example_en.replace(/\[(.*?)\]/g, (match, p1) => `<span class="highlight">${p1}</span>`);
            
            // E≈ü anlamlƒ±lar bo≈üsa '-' g√∂ster
            const synonymsText = synonyms || '-';
            
            // G√ºvenli G√∂rsel URL'si ve Y√ºklenmeme Durumu Y√∂netimi
            const safeImageUrl = image_url || PLACEHOLDER_SVG(word);
            // Hata olu≈üursa SVG placeholder'ƒ± y√ºkle
            const onErrorHandler = `this.onerror=null; this.src='${PLACEHOLDER_SVG(word)}'`; 

            const cardHTML = `
                <div class="card" id="active-card" onclick="handleCardClick(event)"> 
                    
                    <div class="word-image-display">
                        <img src="${safeImageUrl}" 
                             alt="${word} kelimesini temsil eden g√∂rsel"
                             onerror="${onErrorHandler}">
                    </div>

                    <div class="header">
                        <div class="word-row">
                            <span class="speaker-icon" title="Dinle" onclick="event.stopPropagation(); speakWord('${word}')">üîä</span>
                            <h1>${word}</h1>
                        </div>
                        <p class="meaning">${meaning}</p>
                    </div>

                    <div class="box">
                        <div class="row">
                            <span class="tag">√ñr.</span>
                            <div class="content">
                                <p class="en-sentence">${highlightedExample}</p>
                                <div class="divider"></div>
                                <p class="tr-sentence">${example_tr}</p>
                            </div>
                        </div>
                    </div>

                    <div class="box small">
                        <div class="row">
                            <span class="tag">E≈ü A.</span>
                            <div class="content">
                                <p class="synonyms-text">${synonymsText}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            container.innerHTML = cardHTML;
            
            // Kart ge√ßi≈ü animasyonu i√ßin aktif sƒ±nƒ±fƒ±nƒ± ekle
            setTimeout(() => {
                const card = document.getElementById('active-card');
                if(card) card.classList.add('active');
            }, 50);

            updateInfoBar();
        }
        
        const handleCardClick = (event) => {
            // Konu≈üma ikonuna tƒ±klanmadƒ±ƒüƒ± s√ºrece bir sonraki karta ge√ß
            if (!event.target.closest('.speaker-icon')) {
                nextCard();
            }
        };

        const nextCard = () => {
            const activeCard = document.getElementById('active-card');
            
            // HATA D√úZELTMESƒ∞: Kart ge√ßi≈üi sƒ±rasƒ±nda anlƒ±k g√∂r√ºnt√º hatasƒ±nƒ± √∂nlemek i√ßin 
            // container'ƒ± ge√ßici olarak gizlemeden √∂nce ge√ßi≈ü animasyonunu ba≈ülat
            if (activeCard) {
                activeCard.classList.remove('active');
                activeCard.style.transform = 'translateX(100%) scale(0.9) rotate(5deg)'; 
                activeCard.style.opacity = '0';
            }
            
            window.speechSynthesis.cancel();
            isSpeaking = false;

            // Animasyon s√ºresinden sonra kartƒ± deƒüi≈ütir
            setTimeout(() => {
                currentIndex = (currentIndex + 1) % wordList.length;
                createCard(wordList[currentIndex]);
            }, 400); // CSS ge√ßi≈ü s√ºresine (0.4s) uygun zamanlama
        };
        
        const prevCard = () => {
            const activeCard = document.getElementById('active-card');
            if (activeCard) {
                activeCard.classList.remove('active');
                activeCard.style.transform = 'translateX(-100%) scale(0.9) rotate(-5deg)';
                activeCard.style.opacity = '0';
            }

            window.speechSynthesis.cancel();
            isSpeaking = false;

            setTimeout(() => {
                currentIndex = (currentIndex - 1 + wordList.length) % wordList.length;
                createCard(wordList[currentIndex]);
            }, 400); // CSS ge√ßi≈ü s√ºresine uygun zamanlama
        };

        // Klavye Kontrolleri
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ' || e.key === 'Enter') {
                e.preventDefault(); 
                nextCard();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                prevCard();
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                speakWord(wordList[currentIndex].word);
            }
        });

        // Sayfa Y√ºklendiƒüinde Ba≈ülatma
        document.addEventListener('DOMContentLoaded', function() {
            if (wordList.length > 0) {
                createCard(wordList[currentIndex]);
            } else {
                container.innerHTML = '<h2>Liste bo≈ü.</h2>';
                infoText.textContent = 'Liste bo≈ü.';
            }
        });
        
        // Global eri≈üimi saƒüla
        window.handleCardClick = handleCardClick;
        window.speakWord = speakWord;

        // --- JAVASCRIPT Bƒ∞Tƒ∞≈û ---
    </script>
</body>
</html>
